{
  "project": {
    "name": "LightRoll_Cleaner",
    "description": "写真・動画ライブラリのクリーンアップツール（iOS）",
    "created_at": "2025-11-27",
    "version": "0.1.0",
    "tech_stack": ["Swift", "SwiftUI", "Photos Framework", "Vision Framework", "StoreKit 2"],
    "platform": "iOS",
    "min_deployment_target": "iOS 17.0"
  },
  "current_phase": {
    "phase": "design_completed",
    "description": "設計フェーズ完了、アーキテクチャ選定完了、実装準備完了",
    "next_phase": "implementation_phase_1"
  },
  "design_status": {
    "status": "completed",
    "completed_at": "2025-11-27",
    "commit_id": "ebef33f",
    "architecture_selection_commit": "d2277f7",
    "selected_architecture": "MVVM + Repository Pattern (Pattern B)",
    "documents_created": [
      "docs/CRITICAL/CORE_RULES.md",
      "docs/CRITICAL/ARCHITECTURE.md",
      "docs/modules/MODULE_M1_CORE_INFRASTRUCTURE.md",
      "docs/modules/MODULE_M2_PHOTO_ACCESS.md",
      "docs/modules/MODULE_M3_IMAGE_ANALYSIS.md",
      "docs/modules/MODULE_M4_UI_COMPONENTS.md",
      "docs/modules/MODULE_M5_DASHBOARD.md",
      "docs/modules/MODULE_M6_DELETION_SAFETY.md",
      "docs/modules/MODULE_M7_NOTIFICATIONS.md",
      "docs/modules/MODULE_M8_SETTINGS.md",
      "docs/modules/MODULE_M9_MONETIZATION.md"
    ],
    "total_modules": 9,
    "total_tasks": 118,
    "estimated_hours": 190
  },
  "last_session": {
    "date": "2025-11-27",
    "session_id": "arch-select-001",
    "completed_items": [
      "アーキテクチャ多候補分析（3パターン）",
      "定量評価マトリクス作成",
      "パターンB（MVVM + Repository）選定",
      "ARCHITECTURE.mdに選定プロセス追加",
      "Gitコミット（d2277f7）"
    ],
    "in_progress_tasks": []
  },
  "next_session": {
    "recommended_start": "Phase 1 - 基盤構築",
    "recommended_action": "development_preparation",
    "start_instructions": [
      "1. docs/CRITICAL/ARCHITECTURE.md を参照してアーキテクチャ確認",
      "2. M1-T01: Xcodeプロジェクト作成から開始",
      "3. xcodebuildmcp MCPツールの活用推奨"
    ],
    "priority_tasks": [
      "M1-T01: Xcodeプロジェクト作成",
      "M1-T02: ディレクトリ構造整備",
      "M1-T03: エラー型定義",
      "M4-T01: カラーパレット定義"
    ],
    "phase_1_scope": {
      "modules": ["M1 (Core Infrastructure)", "M4前半 (Design System基盤)"],
      "tasks": "M1-T01〜M1-T08, M4-T01〜M4-T04",
      "estimated_hours": "約20時間"
    },
    "blockers": [],
    "prerequisites": [
      "Xcode 15以上がインストール済みであること",
      "Apple Developer Programメンバーシップ（デバイステスト用）"
    ]
  },
  "modules": {
    "planned": [
      {"id": "M1", "name": "Core Infrastructure", "tasks": 10, "hours": 14, "status": "ready"},
      {"id": "M2", "name": "Photo Access & Scanning", "tasks": 12, "hours": 20.5, "status": "ready"},
      {"id": "M3", "name": "Image Analysis & Grouping", "tasks": 13, "hours": 25.5, "status": "ready"},
      {"id": "M4", "name": "UI Components", "tasks": 14, "hours": 17, "status": "ready"},
      {"id": "M5", "name": "Dashboard & Statistics", "tasks": 13, "hours": 24, "status": "ready"},
      {"id": "M6", "name": "Deletion & Safety", "tasks": 14, "hours": 25, "status": "ready"},
      {"id": "M7", "name": "Notifications", "tasks": 13, "hours": 17.5, "status": "ready"},
      {"id": "M8", "name": "Settings & Preferences", "tasks": 14, "hours": 21, "status": "ready"},
      {"id": "M9", "name": "Monetization", "tasks": 15, "hours": 25.5, "status": "ready"}
    ],
    "completed": [],
    "in_progress": []
  },
  "implementation_phases": [
    {
      "phase": 1,
      "name": "基盤構築",
      "modules": ["M1", "M4前半"],
      "tasks": "M1-T01〜M1-T08, M4-T01〜M4-T04",
      "status": "next"
    },
    {
      "phase": 2,
      "name": "データ層",
      "modules": ["M2", "M3"],
      "tasks": "M2-T01〜M2-T09, M3-T01〜M3-T12",
      "status": "pending"
    },
    {
      "phase": 3,
      "name": "UI層",
      "modules": ["M4後半", "M5"],
      "tasks": "M4-T05〜M4-T14, M5-T01〜M5-T12",
      "status": "pending"
    },
    {
      "phase": 4,
      "name": "機能完成",
      "modules": ["M6", "M8"],
      "tasks": "M6-T01〜M6-T13, M8-T01〜M8-T13",
      "status": "pending"
    },
    {
      "phase": 5,
      "name": "仕上げ",
      "modules": ["M7", "M9", "テスト"],
      "tasks": "M7-T01〜M7-T12, M9-T01〜M9-T14, 単体テスト",
      "status": "pending"
    }
  ],
  "mcp_status": {
    "installed": [],
    "pending": ["xcodebuildmcp"],
    "configured": false,
    "note": "Xcodeプロジェクト作成時にxcodebuildmcp連携を設定推奨"
  },
  "context_optimization": {
    "last_optimized": "2025-11-27",
    "session_count": 4,
    "task_count": 0,
    "progress_entries_count": 4,
    "archived_tasks_count": 2,
    "archived_modules": [],
    "context_usage_estimate": "low",
    "next_optimization_trigger": "10 tasks completed or module completion"
  },
  "file_structure": {
    "docs/CRITICAL": "重要ドキュメント（常時読み込み推奨）",
    "docs/modules": "モジュール仕様書（必要時に参照）",
    "docs/archive": "アーカイブ済みドキュメント",
    "src/modules": "ソースコード（モジュール別）",
    "tests": "テストコード"
  },
  "quick_reference": {
    "architecture": "docs/CRITICAL/ARCHITECTURE.md",
    "rules": "docs/CRITICAL/CORE_RULES.md",
    "tasks": "docs/TASKS.md",
    "progress": "docs/PROGRESS.md"
  },
  "dependencies": {
    "external": [
      {"name": "Google Mobile Ads SDK", "version": "latest", "module": "M9", "required": false}
    ],
    "internal": []
  },
  "known_issues": [],
  "notes": [
    "プロジェクト初期化完了（2025-11-27）",
    "設計ドキュメント完成（2025-11-27）",
    "アーキテクチャ選定完了: MVVM + Repository Pattern（2025-11-27）",
    "次回セッション: Phase 1 - Xcodeプロジェクト作成から開始"
  ]
}
