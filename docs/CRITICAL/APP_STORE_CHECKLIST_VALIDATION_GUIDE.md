# App Store提出チェックリスト検証ガイド

## 概要

このガイドは、APP_STORE_SUBMISSION_CHECKLIST.mdの品質と完全性を手動で検証するための手順書です。実際のApp Store提出前に、このガイドに従ってチェックリストを検証してください。

**対象ドキュメント**: `docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md`
**検証所要時間**: 約30分
**推奨頻度**: 提出準備開始時、重要な更新後

---

## 検証手順

### フェーズ1: ドキュメント基本検証（5分）

#### 1-1. ファイル存在確認

- [ ] `docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md` が存在する
- [ ] ファイルサイズが0バイトではない（内容が存在する）
- [ ] UTF-8エンコーディングで読み込める

**検証方法**:
```bash
# プロジェクトルートで実行
ls -lh docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md
file docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md
```

**期待結果**:
```
-rw-r--r--  1 user  staff   25K Dec 13 10:00 docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md
docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md: UTF-8 Unicode text
```

#### 1-2. Markdown構文確認

- [ ] Markdownプレビューで正しく表示される
- [ ] 見出し階層が正しい（#, ##, ### のみ使用）
- [ ] チェックボックスが正しく表示される（`- [ ]` 形式）

**検証方法**:
- VSCodeまたはXcodeでファイルを開き、Markdownプレビューを確認
- 見出しが適切に階層化されているか確認
- チェックボックスが表示されているか確認

---

### フェーズ2: 構造・セクション検証（10分）

#### 2-1. 必須セクション存在確認

以下のセクションが**すべて存在する**ことを確認：

- [ ] 概要
- [ ] 📋 提出前必須チェック項目
  - [ ] ✅ アプリビルド準備
  - [ ] ✅ App Store Connect設定
  - [ ] ✅ アプリプレビュー情報
  - [ ] ✅ スクリーンショット要件
  - [ ] ✅ アプリ説明文（日本語）
  - [ ] ✅ アプリ説明文（英語）
  - [ ] ✅ プライバシーポリシー
  - [ ] ✅ 審査ガイドライン対応
  - [ ] ✅ テストフライト配信
  - [ ] ✅ 最終確認
- [ ] 📊 提出手順
- [ ] 🚨 よくあるリジェクト理由と対策
- [ ] 📞 サポート体制
- [ ] ✅ チェックリスト進捗

**検証方法**:
ドキュメントを上から順に読み、目次と照合しながらセクションの存在を確認。

#### 2-2. チェックボックス数確認

- [ ] チェックボックス総数が**50個以上**存在する
- [ ] 各セクションに適切な数のチェック項目がある

**検証方法**:
```bash
# チェックボックスをカウント
grep -c "^- \[ \]" docs/CRITICAL/APP_STORE_SUBMISSION_CHECKLIST.md
```

**期待結果**: 50以上の数値が表示される

---

### フェーズ3: 内容の正確性検証（10分）

#### 3-1. アプリ情報の一貫性

以下の情報が**ドキュメント全体で一貫している**ことを確認：

- [ ] アプリ名: `LightRoll Cleaner`
- [ ] バンドルID: `com.example.LightRoll-Cleaner`
- [ ] バージョン: `1.0.0`
- [ ] ビルドナンバー: `1`
- [ ] 対象iOS: `18.0+`

**検証方法**:
ドキュメント内を検索（Command+F）し、各項目が統一されているか確認。

#### 3-2. In-App Purchase設定の完全性

以下の3つの課金プランが**すべて記載されている**ことを確認：

- [ ] Premium Monthly（月額）
  - [ ] Product ID: `com.example.LightRoll-Cleaner.premium.monthly`
  - [ ] 価格: `¥480`
- [ ] Premium Yearly（年額）
  - [ ] Product ID: `com.example.LightRoll-Cleaner.premium.yearly`
  - [ ] 価格: `¥3,800`
- [ ] Lifetime（買い切り）
  - [ ] Product ID: `com.example.LightRoll-Cleaner.premium.lifetime`
  - [ ] 価格: `¥9,800`

#### 3-3. スクリーンショット要件の網羅性

以下のデバイスサイズが**すべて記載されている**ことを確認：

- [ ] 6.9インチ（iPhone 16 Pro Max / 15 Pro Max）- 1320 x 2868 px
- [ ] 6.7インチ（iPhone 16 Plus / 15 Plus / 14 Pro Max）- 1290 x 2796 px
- [ ] 6.5インチ（iPhone XS Max / 11 Pro Max）- 1242 x 2688 px
- [ ] 5.5インチ（iPhone 8 Plus / 7 Plus）- 1242 x 2208 px

#### 3-4. 審査ガイドライン対応

以下のガイドラインが**すべて記載されている**ことを確認：

- [ ] Guideline 2.1: App Completeness
- [ ] Guideline 2.3: Accurate Metadata
- [ ] Guideline 3.1: Payments
- [ ] Guideline 4.0: Design
- [ ] Guideline 5.1.1: Privacy - Data Collection
- [ ] Guideline 5.1.2: Privacy - Data Use

---

### フェーズ4: プライバシー・法的要件検証（5分）

#### 4-1. プライバシーポリシー

- [ ] プライバシーポリシーURLが記載されている
- [ ] App Privacy詳細（データ収集内容）が記載されている
- [ ] 写真データの取り扱いが明記されている（端末内処理のみ）
- [ ] 広告表示について記載されている

#### 4-2. 写真アクセス許可

- [ ] NSPhotoLibraryUsageDescriptionの目的が明記されている
- [ ] 写真データが外部送信されないことが明記されている
- [ ] 分析結果もローカル保存のみであることが明記されている

---

## 自動検証スクリプト

### 実行方法

```bash
# プロジェクトルートで実行
swift test --filter AppStoreSubmissionValidationTests
```

### 実行される検証項目

1. ✅ ドキュメント存在確認
2. ✅ 必須セクション存在確認
3. ✅ チェックボックス数確認（最低50個）
4. ✅ 必須キーワード存在確認
5. ✅ Markdown構文正確性確認
6. ✅ 日本語・英語説明文存在確認
7. ✅ スクリーンショット要件完全性確認
8. ✅ In-App Purchase設定完全性確認
9. ✅ プライバシーガイドライン対応確認
10. ✅ 提出手順ステップ確認

### テスト合格基準

- **全10テストケースがPASS**: 合格 ✅
- **1つでもFAIL**: 不合格 ❌ → 該当箇所を修正

---

## 完了判定基準

### 合格条件（すべて満たす必要あり）

1. ✅ 自動検証スクリプトが全テストPASS
2. ✅ 手動検証ガイドのすべてのチェック項目が完了
3. ✅ アプリ情報（名前、バンドルID、バージョン）が一貫している
4. ✅ In-App Purchase設定が3プランすべて記載されている
5. ✅ スクリーンショット要件が4サイズすべて記載されている
6. ✅ プライバシーポリシーが詳細に記載されている
7. ✅ 審査ガイドライン6項目が対応済み

### 不合格時の対応

1. **自動テストFAIL**: エラーメッセージを確認し、該当箇所を修正
2. **手動検証でチェック漏れ**: 該当セクションを追加または修正
3. **情報の不一致**: ドキュメント全体を検索し、統一

---

## トラブルシューティング

### Q1: チェックボックス数が50個未満と表示される

**原因**: チェックボックスの形式が間違っている
**対処法**: 以下の形式で記述されているか確認
```markdown
- [ ] チェック項目
```

**間違った例**:
```markdown
[ ] チェック項目  ← "- " がない
-[ ] チェック項目  ← スペースがない
- [] チェック項目  ← [ ] の間にスペースがない
```

### Q2: 必須セクションが見つからないと表示される

**原因**: セクション名が一致していない
**対処法**: セクション名を完全一致させる（絵文字、空白も含む）

**正しい例**:
```markdown
## 📋 提出前必須チェック項目
```

### Q3: Markdown構文エラーが表示される

**原因**: 見出し階層が深すぎる（####以降を使用）
**対処法**: 見出しは ### までに留める

---

## 検証記録テンプレート

実際の検証時には、以下の記録を残すことを推奨します。

```markdown
## 検証記録

**検証日**: 2025-MM-DD
**検証者**: [名前]
**対象ドキュメント**: APP_STORE_SUBMISSION_CHECKLIST.md
**バージョン**: 1.0.0

### 自動検証結果
- [ ] 全10テストケースPASS
- [ ] FAILがあれば、ここに記載: ___

### 手動検証結果
- [ ] フェーズ1: ドキュメント基本検証 - 完了
- [ ] フェーズ2: 構造・セクション検証 - 完了
- [ ] フェーズ3: 内容の正確性検証 - 完了
- [ ] フェーズ4: プライバシー・法的要件検証 - 完了

### 総合判定
- [ ] 合格 ✅
- [ ] 不合格 ❌ → 修正事項: ___

### 備考
___
```

---

**次回検証予定**: App Store提出直前
**更新頻度**: チェックリスト更新時、または重要な変更後
