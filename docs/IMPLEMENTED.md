# 実装済み機能一覧

このドキュメントは、LightRoll Cleanerで**ユーザーが利用できる機能**を説明します。
技術的な詳細は `docs/archive/TASKS_COMPLETED.md` を参照してください。

---

## 現在のバージョン: v0.9.0（M3-T11完了時点）

### 進捗状況
- **完了モジュール**: M1 Core Infrastructure, M2 Photo Access
- **進行中モジュール**: M3 Image Analysis (11/13タスク完了)
- **全体進捗**: 37/118タスク (31.4%)

---

## M1: 基盤機能

### アプリケーション設定
- アプリの動作をカスタマイズする設定項目を管理
- 類似度判定の感度調整、スキャン対象の選択などが可能

### エラー通知
- 処理中に問題が発生した場合、分かりやすいメッセージで通知
- 日本語での説明と対処方法を提示

### ログ機能
- 問題発生時の原因調査に活用できる詳細ログを記録
- パフォーマンス測定機能によりアプリの動作状況を把握

---

## M2: 写真アクセス機能

### 写真ライブラリへのアクセス
- 端末の写真ライブラリから写真・動画を読み込み
- プライバシーに配慮した権限管理（フルアクセス/限定アクセス対応）

### 写真スキャン
- ライブラリ全体を高速スキャンし、写真・動画の情報を収集
- スキャン進捗をリアルタイムで表示
- バックグラウンドでの定期スキャンにも対応

### ストレージ情報
- 写真・動画が使用しているストレージ容量を表示
- 端末の空き容量状況を確認可能

### サムネイル表示
- 写真のサムネイルを高速に読み込み・キャッシュ
- メモリを効率的に管理し、スムーズなスクロールを実現

---

## M3: 画像分析・グルーピング機能

### 写真の自動グルーピング（M3-T10: PhotoGrouper）

写真ライブラリから整理・削除の候補となる写真を自動で検出し、6種類のグループに分類します。

#### 利用可能なグルーピング機能

| グループ種別 | 説明 | メリット |
|-------------|------|---------|
| **類似写真** | 連写やバースト撮影で似たような写真を検出 | 最良の1枚を残して他を削除し、容量を節約 |
| **セルフィー** | 自撮り写真を自動識別 | セルフィーだけをまとめて整理 |
| **スクリーンショット** | 画面キャプチャを自動検出 | 不要なスクショを一括削除 |
| **ブレ写真** | ピンボケやブレた写真を検出 | 低品質な写真を整理して容量を確保 |
| **大容量動画** | ファイルサイズの大きい動画を検出 | ストレージを圧迫する動画を把握 |
| **重複写真** | 完全に同じ写真を検出 | 無駄な重複を削除 |

#### 機能の特徴
- **進捗表示**: 大量の写真も処理状況をリアルタイムで確認
- **高精度検出**: Vision Frameworkを活用したAI解析
- **カスタマイズ可能**: 検出感度や対象グループの調整が可能

---

### 類似写真検出（M3-T06: SimilarityAnalyzer）
- 連写やバースト撮影した写真を自動でグループ化
- 類似度スコアに基づき、関連する写真をまとめて表示
- 設定で検出感度を調整可能（厳密/標準/緩め）

### セルフィー検出（M3-T07: FaceDetector）
- 自撮り写真を自動で識別
- 顔の大きさや位置から判定
- 複数人の顔も検出可能

### ブレ写真検出（M3-T08: BlurDetector）
- ピンボケやブレた写真を自動検出
- Laplacian分散アルゴリズムによる高精度判定
- 検出感度を3段階で調整可能

### スクリーンショット検出（M3-T09: ScreenshotDetector）
- 画面キャプチャを自動識別
- iOSのメタデータ、画面サイズ、ファイル名の3重チェック
- iPhone/iPadの全機種に対応

### ベストショット自動選択（M3-T11: BestShotSelector）
- グループ内の写真から自動的にベストショットを選定
- シャープネス、顔の品質、顔の人数を総合評価して最適な写真を推奨
- 用途に応じた選定基準（デフォルト、シャープネス重視、顔品質重視、ポートレート）を選択可能

---

## 今後追加予定の機能

### M3残り（画像分析）
- 分析結果の保存・管理（M3-T12）

### M4以降
- UIコンポーネント（M4）
- ダッシュボード画面（M5）
- 削除・ゴミ箱機能（M6）
- 通知機能（M7）
- 設定画面（M8）
- プレミアム機能・広告（M9）

---

*最終更新: 2025-11-29 (M3-T11 BestShotSelector実装完了)*
