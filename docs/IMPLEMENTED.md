# 実装済み機能一覧

このドキュメントは、LightRoll Cleanerで**ユーザーが利用できる機能**を説明します。
技術的な詳細は `docs/archive/IMPLEMENTED_HISTORY.md` を参照してください。

---

## 現在のバージョン: v0.9.10（M4完全終了・Phase 3完了）

### 進捗状況
- **完了モジュール**: M1 Core Infrastructure, M2 Photo Access, M3 Image Analysis, M4 UI Components
- **次モジュール**: M5 Dashboard & Statistics
- **Phase 3完了**: 基盤層 + データアクセス層 + 分析エンジン層 + UI層
- **Phase 4開始準備**: Dashboard & Statistics
- **全体進捗**: 49/118タスク (41.5%)

---

## M1: 基盤機能（完了）

ユーザーから見て出来るようになったこと：
- アプリの動作をカスタマイズする設定項目を管理（類似度感度調整、スキャン対象選択など）
- 問題発生時に分かりやすい日本語メッセージでエラー通知を受け取る
- 詳細ログによる問題調査とパフォーマンス状況の把握

---

## M2: 写真アクセス機能（完了）

ユーザーから見て出来るようになったこと：
- 端末の写真ライブラリから写真・動画を読み込み（プライバシー配慮の権限管理）
- ライブラリ全体の高速スキャンとリアルタイム進捗表示
- ストレージ使用量の確認（写真・動画の容量、空き容量状況）
- サムネイルの高速表示とスムーズなスクロール

---

## M3: 画像分析・グルーピング機能（完了）✨

ユーザーから見て出来るようになったこと：
- **類似写真の自動検出**: 連写やバースト撮影で似た写真を自動でグループ化
- **セルフィー・スクリーンショットの識別**: 自撮り写真や画面キャプチャを自動検出して整理
- **ブレ写真の検出**: ピンボケやブレた低品質な写真を自動で見つけ出す
- **ベストショット自動選定**: グループ内から最も品質の高い写真を自動で推奨
- **大容量動画・重複写真の検出**: ストレージを圧迫するファイルを把握

### グルーピング機能詳細

| グループ種別 | 説明 | メリット |
|-------------|------|---------|
| 類似写真 | 連写やバースト撮影の似た写真 | 最良の1枚を残して容量を節約 |
| セルフィー | 自撮り写真を自動識別 | セルフィーだけをまとめて整理 |
| スクリーンショット | 画面キャプチャを自動検出 | 不要なスクショを一括削除 |
| ブレ写真 | ピンボケやブレた写真 | 低品質な写真を整理して容量確保 |
| 大容量動画 | ファイルサイズの大きい動画 | ストレージ圧迫動画を把握 |
| 重複写真 | 完全に同じ写真 | 無駄な重複を削除 |

---

## M4: UIコンポーネント（完了）

ユーザーから見て出来るようになったこと：

### デザインシステム
- **統一されたデザイン言語**: グラスモーフィズムを含む洗練されたビジュアルスタイル
- **タイポグラフィシステム**: 一貫したフォントサイズ・スタイル
- **スペーシングシステム**: 統一された余白・パディング
- **カラーシステム**: ライト/ダークモード対応の色定義

### 基本UIコンポーネント
- **写真サムネイル表示**: 高品質なサムネイル表示と選択状態の可視化
  - 正方形レイアウトで統一感のあるグリッド表示
  - 選択時のチェックマーク、ボーダー、半透明オーバーレイ
  - ベストショット推奨時の星バッジ表示
  - 動画の場合、再生アイコンと動画長さ表示
  - グラスモーフィズム効果で洗練されたデザイン
  - VoiceOver完全対応でアクセシビリティ向上

- **写真グリッド表示**: 複数写真を効率的にグリッド表示
  - LazyVGridで大量写真もスムーズにスクロール
  - 選択状態管理、ベストショットバッジ対応
  - タップ/長押しハンドリング

- **ストレージインジケーター**: ストレージ使用量の視覚化
  - バー形式・リング形式の2スタイル
  - 警告レベル表示（normal/warning/critical）
  - 削減可能容量の視覚化

- **グループカード**: 類似写真グループの表示
  - サムネイルプレビュー、グループ情報表示
  - タップアクション、グラスモーフィズムデザイン

### インタラクティブコンポーネント
- **アクションボタン**: プライマリ/セカンダリスタイル
  - 無効化状態、ローディング状態対応
  - SF Symbolsアイコン、スプリングアニメーション
  - VoiceOver対応

- **プログレスオーバーレイ**: 処理進捗表示
  - 確定/不確定進捗モード
  - キャンセル機能、アクセシビリティ対応

- **確認ダイアログ**: 削除確認などの重要な操作確認
  - 3スタイル（normal/destructive/warning）
  - 詳細情報表示、非同期アクション対応

### フィードバックコンポーネント
- **空状態表示**: コンテンツがない場合のガイダンス
  - 5種類の状態タイプ（empty/noSearchResults/error/noPermission/custom）
  - アクションボタン統合

- **トースト通知**: 一時的なメッセージ表示
  - 4種類（success/error/warning/info）
  - スワイプ消去、自動消去、スタック表示対応

### 開発者向け機能
- **プレビュー環境**: 全コンポーネントでSwiftUI Previews利用可能
- **モックデータ生成**: 27種類のプリセット + 動的生成関数
  - MockPhoto: 9種類のバリエーション
  - MockPhotoGroup: 6種類のグループタイプ
  - MockStorageInfo: 5種類のストレージ状態
  - MockAnalysisResult: 7種類の分析結果パターン

---

## 今後追加予定の機能

### Phase 4（Dashboard & Statistics）
- ダッシュボード画面（M5）
- 削除・ゴミ箱機能（M6）

### Phase 5（設定・通知）
- 設定画面（M8）
- 通知機能（M7）

### Phase 6（仕上げ）
- プレミアム機能・広告（M9）
- パフォーマンス最適化・仕上げ（M10）

---

*最終更新: 2025-11-30 (M4-T14 PreviewHelpers完了、M4モジュール完全終了、Phase 3完了)*
